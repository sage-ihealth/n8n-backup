{
  "active": true,
  "activeVersion": {
    "updatedAt": "2026-02-20T09:00:50.000Z",
    "createdAt": "2026-02-19T01:09:47.761Z",
    "versionId": "6dd5e0ca-2f9c-42fb-a632-6c3b297dc2ed",
    "workflowId": "F98TFh4V5-5doPP-SBCUR",
    "nodes": [
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "weeks",
                "triggerAtDay": [],
                "triggerAtHour": 10
              }
            ]
          }
        },
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.3,
        "position": [
          0,
          784
        ],
        "id": "29eebae0-3730-4fdd-8352-b86ffb6d797a",
        "name": "Schedule (Friday 6PM)"
      },
      {
        "parameters": {
          "documentId": {
            "__rl": true,
            "value": "1vRhvx9dHvmu_BGtc6p8BrW9ywphUc5Y-uAddHooZoJg",
            "mode": "list",
            "cachedResultName": "Unified Care Team Weekly Update 2026",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vRhvx9dHvmu_BGtc6p8BrW9ywphUc5Y-uAddHooZoJg/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": 763657570,
            "mode": "list",
            "cachedResultName": "Fill Out Here Pls",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vRhvx9dHvmu_BGtc6p8BrW9ywphUc5Y-uAddHooZoJg/edit#gid=763657570"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          224,
          784
        ],
        "id": "8e20a7dc-c09a-42b9-8cb4-417bc9b1ce5a",
        "name": "Get Sheet Data",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "mPiYRUHsh5Fajaec",
            "name": "Google Sheets account 5"
          }
        }
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 3
            },
            "conditions": [
              {
                "id": "date-check",
                "leftValue": "={{ $json[\"Date (Friday of that week)\"] }}",
                "rightValue": "={{ $now.setZone('America/Los_Angeles').toFormat('M/d/yyyy') }}",
                "operator": {
                  "type": "string",
                  "operation": "equals",
                  "name": "filter",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.filter",
        "typeVersion": 2.3,
        "position": [
          448,
          784
        ],
        "id": "12d71364-75a0-4638-94b2-04f6f03441dd",
        "name": "Filter for Today's Date"
      },
      {
        "parameters": {
          "operation": "update",
          "documentURL": "https://docs.google.com/document/d/15vB3pVd0jdQe7KVaYO8_vV80craD3GzdQVekrXLjhO8/edit?tab=t.2ltjpdsxjb4u",
          "actionsUi": {
            "actionFields": [
              {
                "action": "insert",
                "text": "={{ $json.text }}"
              }
            ]
          }
        },
        "type": "n8n-nodes-base.googleDocs",
        "typeVersion": 2,
        "position": [
          896,
          784
        ],
        "id": "457fe8da-ff76-4a32-b40b-d3a204cd4654",
        "name": "Append to Doc",
        "credentials": {
          "googleDocsOAuth2Api": {
            "id": "Hn7SZSdLBTvkeEyv",
            "name": "Google Docs account 3"
          }
        }
      },
      {
        "parameters": {
          "jsCode": "// 1. Start the report with the Date Header\n// We use the date from the first item found\nlet reportText = \"\\n\\n\" + items[0].json['Date (Friday of that week)'] + \"\\n\";\nreportText += \"==================================================\\n\\n\";\n\n// 2. Loop through EVERY row found in the sheet\nfor (const item of items) {\n  const dept = item.json['Team'];\n  const rawStatus = item.json['Status'] || \"\";\n  const focus = item.json[\"This Week's Focus\"] || \"(No update provided)\";\n  const risk = item.json['Key Change or Upcoming Risk'] || \"None\";\n\n  // 3. Convert text Status to Emojis\n  let statusEmoji = \"âšª\"; // Default grey\n  if (rawStatus.includes(\"On Track\")) {\n    statusEmoji = \"ğŸŸ¢\";\n  } else if (rawStatus.includes(\"At Risk\")) {\n    statusEmoji = \"ğŸŸ¡\";\n  } else if (rawStatus.includes(\"Blocked\")) {\n    statusEmoji = \"ğŸ”´\";\n  }\n\n  // 4. Build the text block using \"Mathematical Bold\" characters\n  // These special characters look bold but are treated as plain text\n  \n  reportText += `ğ“ğğšğ¦/ğƒğğ©ğšğ«ğ­ğ¦ğğ§ğ­: ${dept}\\n`;\n  reportText += `ğ’ğ­ğšğ­ğ®ğ¬: ${statusEmoji}\\n\\n`;\n  \n  reportText += `ğ“ğ¡ğ¢ğ¬ ğ°ğğğ¤'ğ¬ ğŸğ¨ğœğ®ğ¬:\\n`;\n  reportText += `${focus}\\n\\n`;\n  \n  reportText += `ğŠğğ² ğœğ¡ğšğ§ğ ğ ğ¨ğ« ğ®ğ©ğœğ¨ğ¦ğ¢ğ§ğ  ğ«ğ¢ğ¬ğ¤, ğœğ¡ğšğ¥ğ¥ğğ§ğ ğğ¬:\\n`;\n  reportText += `${risk}\\n`;\n  \n  // Add the separator line\n  reportText += \"____________________________________________________________________________\\n\\n\";\n}\n\n// 5. Output the single combined text block\nreturn [{json: {text: reportText}}];"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          672,
          784
        ],
        "id": "6245a99b-6843-4994-b30b-f5e41284768b",
        "name": "Code in JavaScript"
      },
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "weeks",
                "triggerAtDay": [
                  5
                ],
                "triggerAtHour": 15
              }
            ]
          }
        },
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.3,
        "position": [
          0,
          544
        ],
        "id": "c81eaded-a635-4df0-9b5e-346fde18eae8",
        "name": "Schedule Trigger"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 3
            },
            "conditions": [
              {
                "id": "06e9d547-1cf0-4402-8743-d1ef0de2b94a",
                "leftValue": "={{ $json[\"This Week's Focus\"] }}",
                "rightValue": "",
                "operator": {
                  "type": "string",
                  "operation": "empty",
                  "singleValue": true
                }
              },
              {
                "id": "1831201d-557c-4740-9828-912c40d1645e",
                "leftValue": "={{ $json[\"Date \\n(Friday of that week)\"] ? DateTime.fromFormat($json[\"Date \\n(Friday of that week)\"], 'M/d/yyyy').toFormat('M/d/yyyy') : \"\" }}",
                "rightValue": "={{ $now.setZone('America/Los_Angeles').toFormat('M/d/yyyy') }}",
                "operator": {
                  "type": "string",
                  "operation": "equals",
                  "name": "filter",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.filter",
        "typeVersion": 2.3,
        "position": [
          448,
          544
        ],
        "id": "51938999-af5c-4f85-b069-1b3614d571e5",
        "name": "Filter for Today + Empty"
      },
      {
        "parameters": {
          "documentId": {
            "__rl": true,
            "value": "1vRhvx9dHvmu_BGtc6p8BrW9ywphUc5Y-uAddHooZoJg",
            "mode": "list"
          },
          "sheetName": {
            "__rl": true,
            "value": 763657570,
            "mode": "list"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          224,
          544
        ],
        "id": "5dce13f5-ee71-41ef-8061-8545ff07035a",
        "name": "Get row(s) in sheet",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "mPiYRUHsh5Fajaec",
            "name": "Google Sheets account 5"
          }
        }
      },
      {
        "parameters": {
          "authentication": "oAuth2",
          "spaceId": "spaces/AAQAknpNPFc",
          "messageUi": {
            "text": "=Hello <users/{{ $json[\"Google Chat Handle\"] }}>, this is a friendly reminder to fill out your Weekly Update for the {{ $json[\"Team/Department\"] }}team. Thank you!"
          },
          "additionalFields": {}
        },
        "type": "n8n-nodes-base.googleChat",
        "typeVersion": 1,
        "position": [
          688,
          544
        ],
        "id": "dd59fd3c-fc05-4042-8c39-b1467866ceb4",
        "name": "Create a message",
        "webhookId": "c9fc3c7a-1f47-4ac1-9d17-f11ebe250d8a",
        "credentials": {
          "googleChatOAuth2Api": {
            "id": "Ss1Rm3mRKdDYE2xW",
            "name": "Chat account 6"
          }
        }
      }
    ],
    "connections": {
      "Schedule (Friday 6PM)": {
        "main": [
          [
            {
              "node": "Get Sheet Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Sheet Data": {
        "main": [
          [
            {
              "node": "Filter for Today's Date",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Filter for Today's Date": {
        "main": [
          [
            {
              "node": "Code in JavaScript",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Code in JavaScript": {
        "main": [
          [
            {
              "node": "Append to Doc",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Schedule Trigger": {
        "main": [
          [
            {
              "node": "Get row(s) in sheet",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Filter for Today + Empty": {
        "main": [
          [
            {
              "node": "Create a message",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get row(s) in sheet": {
        "main": [
          [
            {
              "node": "Filter for Today + Empty",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "Tina Zou",
    "name": "v1.0",
    "description": "",
    "autosaved": true
  },
  "activeVersionId": "6dd5e0ca-2f9c-42fb-a632-6c3b297dc2ed",
  "connections": {
    "Schedule (Friday 6PM)": {
      "main": [
        [
          {
            "node": "Get Sheet Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Sheet Data": {
      "main": [
        [
          {
            "node": "Filter for Today's Date",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter for Today's Date": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Append to Doc",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter for Today + Empty": {
      "main": [
        [
          {
            "node": "Create a message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Filter for Today + Empty",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2026-01-26T19:37:34.183Z",
  "id": "F98TFh4V5-5doPP-SBCUR",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "UC Admin - UC Weekly Alignment Update - v1.0",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "weeks",
              "triggerAtDay": [],
              "triggerAtHour": 10
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.3,
      "position": [
        0,
        784
      ],
      "id": "29eebae0-3730-4fdd-8352-b86ffb6d797a",
      "name": "Schedule (Friday 6PM)"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1vRhvx9dHvmu_BGtc6p8BrW9ywphUc5Y-uAddHooZoJg",
          "mode": "list",
          "cachedResultName": "Unified Care Team Weekly Update 2026",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vRhvx9dHvmu_BGtc6p8BrW9ywphUc5Y-uAddHooZoJg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 763657570,
          "mode": "list",
          "cachedResultName": "Fill Out Here Pls",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vRhvx9dHvmu_BGtc6p8BrW9ywphUc5Y-uAddHooZoJg/edit#gid=763657570"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        224,
        784
      ],
      "id": "8e20a7dc-c09a-42b9-8cb4-417bc9b1ce5a",
      "name": "Get Sheet Data",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "mPiYRUHsh5Fajaec",
          "name": "Google Sheets account 5"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "date-check",
              "leftValue": "={{ $json[\"Date (Friday of that week)\"] }}",
              "rightValue": "={{ $now.setZone('America/Los_Angeles').toFormat('M/d/yyyy') }}",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        448,
        784
      ],
      "id": "12d71364-75a0-4638-94b2-04f6f03441dd",
      "name": "Filter for Today's Date"
    },
    {
      "parameters": {
        "operation": "update",
        "documentURL": "https://docs.google.com/document/d/15vB3pVd0jdQe7KVaYO8_vV80craD3GzdQVekrXLjhO8/edit?tab=t.2ltjpdsxjb4u",
        "actionsUi": {
          "actionFields": [
            {
              "action": "insert",
              "text": "={{ $json.text }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        896,
        784
      ],
      "id": "457fe8da-ff76-4a32-b40b-d3a204cd4654",
      "name": "Append to Doc",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "Hn7SZSdLBTvkeEyv",
          "name": "Google Docs account 3"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// 1. Start the report with the Date Header\n// We use the date from the first item found\nlet reportText = \"\\n\\n\" + items[0].json['Date (Friday of that week)'] + \"\\n\";\nreportText += \"==================================================\\n\\n\";\n\n// 2. Loop through EVERY row found in the sheet\nfor (const item of items) {\n  const dept = item.json['Team'];\n  const rawStatus = item.json['Status'] || \"\";\n  const focus = item.json[\"This Week's Focus\"] || \"(No update provided)\";\n  const risk = item.json['Key Change or Upcoming Risk'] || \"None\";\n\n  // 3. Convert text Status to Emojis\n  let statusEmoji = \"âšª\"; // Default grey\n  if (rawStatus.includes(\"On Track\")) {\n    statusEmoji = \"ğŸŸ¢\";\n  } else if (rawStatus.includes(\"At Risk\")) {\n    statusEmoji = \"ğŸŸ¡\";\n  } else if (rawStatus.includes(\"Blocked\")) {\n    statusEmoji = \"ğŸ”´\";\n  }\n\n  // 4. Build the text block using \"Mathematical Bold\" characters\n  // These special characters look bold but are treated as plain text\n  \n  reportText += `ğ“ğğšğ¦/ğƒğğ©ğšğ«ğ­ğ¦ğğ§ğ­: ${dept}\\n`;\n  reportText += `ğ’ğ­ğšğ­ğ®ğ¬: ${statusEmoji}\\n\\n`;\n  \n  reportText += `ğ“ğ¡ğ¢ğ¬ ğ°ğğğ¤'ğ¬ ğŸğ¨ğœğ®ğ¬:\\n`;\n  reportText += `${focus}\\n\\n`;\n  \n  reportText += `ğŠğğ² ğœğ¡ğšğ§ğ ğ ğ¨ğ« ğ®ğ©ğœğ¨ğ¦ğ¢ğ§ğ  ğ«ğ¢ğ¬ğ¤, ğœğ¡ğšğ¥ğ¥ğğ§ğ ğğ¬:\\n`;\n  reportText += `${risk}\\n`;\n  \n  // Add the separator line\n  reportText += \"____________________________________________________________________________\\n\\n\";\n}\n\n// 5. Output the single combined text block\nreturn [{json: {text: reportText}}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        672,
        784
      ],
      "id": "6245a99b-6843-4994-b30b-f5e41284768b",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "weeks",
              "triggerAtDay": [
                5
              ],
              "triggerAtHour": 15
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.3,
      "position": [
        0,
        544
      ],
      "id": "c81eaded-a635-4df0-9b5e-346fde18eae8",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "06e9d547-1cf0-4402-8743-d1ef0de2b94a",
              "leftValue": "={{ $json[\"This Week's Focus\"] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "empty",
                "singleValue": true
              }
            },
            {
              "id": "1831201d-557c-4740-9828-912c40d1645e",
              "leftValue": "={{ $json[\"Date \\n(Friday of that week)\"] ? DateTime.fromFormat($json[\"Date \\n(Friday of that week)\"], 'M/d/yyyy').toFormat('M/d/yyyy') : \"\" }}",
              "rightValue": "={{ $now.setZone('America/Los_Angeles').toFormat('M/d/yyyy') }}",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        448,
        544
      ],
      "id": "51938999-af5c-4f85-b069-1b3614d571e5",
      "name": "Filter for Today + Empty"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1vRhvx9dHvmu_BGtc6p8BrW9ywphUc5Y-uAddHooZoJg",
          "mode": "list"
        },
        "sheetName": {
          "__rl": true,
          "value": 763657570,
          "mode": "list"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        224,
        544
      ],
      "id": "5dce13f5-ee71-41ef-8061-8545ff07035a",
      "name": "Get row(s) in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "mPiYRUHsh5Fajaec",
          "name": "Google Sheets account 5"
        }
      }
    },
    {
      "parameters": {
        "authentication": "oAuth2",
        "spaceId": "spaces/AAQAknpNPFc",
        "messageUi": {
          "text": "=Hello <users/{{ $json[\"Google Chat Handle\"] }}>, this is a friendly reminder to fill out your Weekly Update for the {{ $json[\"Team/Department\"] }}team. Thank you!"
        },
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.googleChat",
      "typeVersion": 1,
      "position": [
        688,
        544
      ],
      "id": "dd59fd3c-fc05-4042-8c39-b1467866ceb4",
      "name": "Create a message",
      "webhookId": "c9fc3c7a-1f47-4ac1-9d17-f11ebe250d8a",
      "credentials": {
        "googleChatOAuth2Api": {
          "id": "Ss1Rm3mRKdDYE2xW",
          "name": "Chat account 6"
        }
      }
    }
  ],
  "origin": "n8n",
  "pinData": {},
  "repo": {
    "owner": "sage-ihealth",
    "name": "n8n-backup"
  },
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false,
    "timeSavedMode": "fixed",
    "timezone": "America/Los_Angeles",
    "callerPolicy": "workflowsFromSameOwner"
  },
  "shared": [
    {
      "updatedAt": "2026-01-26T19:37:34.185Z",
      "createdAt": "2026-01-26T19:37:34.185Z",
      "role": "workflow:owner",
      "workflowId": "F98TFh4V5-5doPP-SBCUR",
      "projectId": "PvZitumGnZP1AedJ"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 2,
  "updatedAt": "2026-02-19T01:10:04.056Z",
  "versionId": "6dd5e0ca-2f9c-42fb-a632-6c3b297dc2ed"
}